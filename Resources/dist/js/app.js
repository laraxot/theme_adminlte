(self.webpackChunkAdminLTE=self.webpackChunkAdminLTE||[]).push([[773],{4381:function(e,r,n){var t=n(9755);n(5587),n(4767),n(8646),n(2649),t((function(){t(".i-checks").iCheck({checkboxClass:"icheckbox_square-blue",radioClass:"iradio_square-blue"}),t(".js-datepicker").datepicker({autoclose:!0,todayHighlight:!0})}))},5587:function(e,r,n){n(9755),n(9755);window._=n(6486);try{n.g.$=n.g.jQuery=n(9755),window.Popper=n(5398).default,window.dragula=n(7137),n(5577),n(1402),n(3723),n(9303),n(4728),n(3752),window.Swal=n.g.Swal=n(6455),window.noUiSlider=n(4211),n(686);window.flatpickr=n(6667),window.Chart=n(5453).Z}catch(e){console.log(e)}console.log("start"),window.axios=n(9669),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var t=document.head.querySelector('meta[name="csrf-token"]');t?window.axios.defaults.headers.common["X-CSRF-TOKEN"]=t.content:console.error("CSRF token not found: https://laravel.com/docs/csrf#csrf-x-csrf-token")},8646:function(e,r,n){var t=n(9755);({linkSelector:"a.btn-confirm-delete",modalTitle:"Are you sure?",modalMessage:"You will not be able to recover this entry?",modalConfirmButtonText:"Yes, delete it!",laravelToken:null,url:"/",init:function(){t(this.linkSelector).on("click",{self:this},this.handleClick)},handleClick:function(e){e.preventDefault();var r=e.data.self,n=t(this);r.modalTitle=n.data("title")||r.modalTitle,r.modalMessage=n.data("message")||r.modalMessage,r.modalMessage=r.modalMessage+"["+n.data("id")+"]",r.modalConfirmButtonText=n.data("button-text")||r.modalConfirmButtonText,r.url=n.data("href"),r.laravelToken=t("meta[name=csrf-token]").attr("content"),r.confirmDelete()},confirmDelete:function(){Swal.fire({title:this.modalTitle,text:this.modalMessage,type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:this.modalConfirmButtonText}).then(function(e){e.value&&this.makeDeleteRequest()}.bind(this))},makeDeleteRequest:function(){t.ajax({url:this.url,type:"DELETE",data:{_method:"delete",_token:this.laravelToken},success:function(e){console.log(e),Swal.fire("Deleted!","Your imaginary file has been deleted.","success"),location.reload()},error:function(e,r,n){console.log("url : "+this.url),console.log("XMLHttpRequest"),console.log(e),t("#div_debug").html(e.responseText),console.log("textStatus"),console.log(r),console.log("errorThrown"),console.log(n),alert("Status: "+r),alert("Error: "+n)}})},makeDeleteRequest1:function(){var e=t("<form>",{method:"POST",action:this.url}),r=t("<input>",{type:"hidden",name:"_token",value:this.laravelToken}),n=t("<input>",{name:"_method",type:"hidden",value:"DELETE"});return e.append(r,n).appendTo("body").submit()}}).init()},2649:function(e,r,n){var t=n(9755);t(".datetime_flatpickr").flatpickr({wrap:!0,dateFormat:"d/m/Y H:i",enableTime:!0,time_24hr:!0}),t(".date_flatpickr").flatpickr({wrap:!0,dateFormat:"d/m/Y",time_24hr:!0}),t(".time_flatpickr").flatpickr({wrap:!0,dateFormat:"H:i",noCalendar:!0,enableTime:!0,time_24hr:!0})},4767:function(e,r,n){"use strict";n.r(r);var t=n(821),o=["id"],i=["src"];var a=n(3364),s=(n(114),n(9755)),l=n.n(s),d=n(6486),c=n.n(d),u={props:["src","id","currentTime","markers"],data:function(){return{player:null,options:{controls:!0}}},mounted:function(){var e=this;document.addEventListener("livewire:load",(function(r){var n=e.$refs["video-player"];e.player=(0,a.default)(n,{fluid:!0,controls:!0,autoplay:!1,controlBar:{playToggle:!0,liveDisplay:!1,pictureInPictureToggle:!0,muteToggle:!0,seekToLive:!1}});var t=e.player;Array.isArray(e.markers)&&t.markers({markerStyle:{width:"8px","border-radius":"30%","background-color":"yellow"},markers:e.markers,markerTip:{display:!0,text:function(e){return e.text+": "+e.time}},onMarkerReached:function(e){}}),t.ready((function(){t.controlBar.show(),t.controlBar.removeClass("vjs-fade-out"),t.userActive(!0),l()(".subitem").on("click",(function(e){var r=this.getAttribute("data-start");t.currentTime(r)}))})),Livewire.on("setVideoMarkers",(function(e){Array.isArray(e)&&t.markers.reset(e)})),t.on("loadedmetadata",(function(){Livewire.emit("setSliderMinMax",0,t.duration())})),t.on("timeupdate",(function(){var e=this.currentTime();Livewire.emit("setVideoCurrentTime",e),l()(".subitem").each((function(){var r=.9999*l()(this).data("start"),n=1.0001*l()(this).data("end");c().inRange(e,r,n)?l()(this).addClass("text-decoration-underline highlight text-primary"):l()(this).removeClass("text-decoration-underline highlight text-primary")}))}))}))}},m=n(3379),p=n.n(m),v=n(6934),f={insert:"head",singleton:!1},h=(p()(v.Z,f),v.Z.locals,n(3744));var g=(0,h.Z)(u,[["render",function(e,r,n,a,s,l){return(0,t.wg)(),(0,t.iD)("video",{id:n.id,controls:"",preload:"auto",ref:"video-player",class:"video-js vjs-big-play-centered"},[(0,t._)("source",{src:n.src,type:"video/mp4"},null,8,i)],8,o)}]]),k=["id"],A=(0,t._)("span",null,null,-1);var y=n(4211),w=n.n(y),C={props:["id"],data:function(){return{slider:null,options:{controls:!0}}},mounted:function(){var e=this,r=this.$refs.slider;this.slider=w().create(r,{start:[0,1e3],connect:!0,tooltips:!0,range:{min:0,max:1e3}}),document.addEventListener("livewire:load",(function(r){e.slider.on("change",(function(e,r){Livewire.emit("updateSliderValues",e)})),Livewire.on("setSliderMinMax",(function(r,n){console.log("nouivue - setSliderMinMax ["+r+" ; "+n+"]"),e.slider.updateOptions({range:{min:r,max:n}})})),Livewire.on("setSliderValues",(function(r,n){e.slider.updateOptions({start:[r,n]})}))}))}},x=n(704),b={insert:"head",singleton:!1};p()(x.Z,b),x.Z.locals;var T=(0,h.Z)(C,[["render",function(e,r,n,o,i,a){return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("div",{id:n.id,ref:"slider",class:""},null,8,k),A])}]]),j=(n(2520),(0,t.ri)({data:function(){return{count:0}}}));j.component("v-videoplayer",g),j.component("v-slider",T),j.mount("#app")},704:function(e,r,n){"use strict";var t=n(4015),o=n.n(t),i=n(3645),a=n.n(i),s=n(8165),l=a()(o());l.i(s.Z),l.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),r.Z=l},6934:function(e,r,n){"use strict";var t=n(4015),o=n.n(t),i=n(3645),a=n.n(i),s=n(3481),l=n(5205),d=a()(o());d.i(s.Z),d.i(l.Z),d.push([e.id,'.video-js .vjs-control-bar{display:flex}.vjs-tip{font-size:15px}.vjs-tip .vjs-tip-inner{background-color:#ff0;color:#000}.vjs-tip .vjs-tip-arrow{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAAXNSR0IArs4c6QAAAENJREFUGBmNzlEKACAIA9Dt/oc2DGZLQuqncC8VaCcC0UqgFxyQJyvkQB8FN3oBh5xAwXxMMEf+76S23lFLK7tuhwoWU/Ya/y97IuIAAAAASUVORK5CYII=") 0 100% no-repeat}',"",{version:3,sources:["webpack://./../../Modules/Theme/Resources/js/components/videoplayer/Videojs.vue"],names:[],mappings:"AA4II,2BACI,YACJ,CAEC,SACG,cACJ,CACA,wBAEI,qBAAwB,CADxB,UAEJ,CACA,wBACI,iPACJ",sourcesContent:["<template>\r\n    <video :id=\"id\" controls preload=\"auto\" ref=\"video-player\" class=\"video-js vjs-big-play-centered\">\r\n        <source :src=\"src\" type=\"video/mp4\" />\r\n    </video>\r\n</template>\r\n\r\n<script>\r\n/**\r\n * @link https://www.programmersought.com/article/79514297198/\r\n * @link https://stackoverflow.com/questions/56345835/videojs-marker-how-can-i-customize-a-special-marker-rather-than-using-general\r\n * @link https://codepen.io/jnwng/pen/KKMWbq\r\n */\r\nimport videojs from \"video.js\";\r\n//import \"videojs-markers-plugin/dist/videojs-markers-plugin.js\";\r\nimport 'videojs-markers-plugin';\r\nimport $ from \"jquery\";\r\nimport _ from \"lodash\";\r\n\r\nexport default {\r\n    props: [\"src\",\"id\",\"currentTime\",\"markers\"],\r\n    /*\r\n    props: {\r\n    title: String,\r\n    likes: Number\r\n    }\r\n    */\r\n    data(){\r\n        return {\r\n            player: null,\r\n            options: {\r\n                controls: true,\r\n            },\r\n        };\r\n    },\r\n    mounted(){\r\n        document.addEventListener('livewire:load',  event => {\r\n        const element=this.$refs['video-player'];\r\n        //console.log(this.markers);\r\n        //var markers= JSON.parse(this.markers);\r\n        //console.log(markers);\r\n        this.player = videojs(element,{\r\n            fluid:true,\r\n            controls: true,\r\n            autoplay: false,\r\n            controlBar: {\r\n                playToggle: true,\r\n                liveDisplay: false,\r\n                pictureInPictureToggle: true,\r\n                muteToggle: true,\r\n                seekToLive: false \r\n            }\r\n            \r\n        });\r\n        var myPlayer=this.player;\r\n        //console.log(this.markers);\r\n        //load the marker plugin\r\n        if(Array.isArray(this.markers)){\r\n            myPlayer.markers({\r\n                markerStyle: {\r\n                    'width':'8px',\r\n                    'border-radius': '30%',\r\n                    'background-color': 'yellow'\r\n                },\r\n                markers : this.markers,\r\n                markerTip:{\r\n                    display: true,\r\n                    text: function(marker) {\r\n                        return marker.text + ': ' +marker.time\r\n                    },\r\n                    //time: function(marker) {\r\n                        //return marker.time;\r\n                    //    return null;\r\n                    //}\r\n                },\r\n                onMarkerReached: function(marker) {\r\n                    //console.log(\"marker reached: \" + marker.text )\r\n                },\r\n            });\r\n        }\r\n\r\n        myPlayer.ready(function() {\r\n            myPlayer.controlBar.show();\r\n            myPlayer.controlBar.removeClass('vjs-fade-out'); \r\n            \r\n            myPlayer.userActive(true);\r\n\r\n            $('.subitem').on('click', function(e) {\r\n                var time = this.getAttribute('data-start');\r\n                myPlayer.currentTime(time);\r\n            });\r\n        });\r\n\r\n        Livewire.on('setVideoMarkers',($markers) =>{\r\n            //console.log('---------------setVideoMarkers--------------');\r\n            //console.log($markers);\r\n            if(Array.isArray($markers)){\r\n                myPlayer.markers.reset($markers);\r\n            }\r\n        });\r\n        /*\r\n        myPlayer.on('playing', function() {\r\n            console.log('playing');\r\n            console.log(this.currentTime());\r\n        });\r\n        */\r\n        \r\n        myPlayer.on(\"loadedmetadata\", function() {\r\n            //console.log('loadedmetadata');\r\n            //console.log(myPlayer.duration());\r\n            Livewire.emit('setSliderMinMax',0,myPlayer.duration());\r\n            \r\n        });\r\n        myPlayer.on('timeupdate', function() {\r\n            //console.log('timeupdate');\r\n            var time = this.currentTime();\r\n            Livewire.emit('setVideoCurrentTime',time);\r\n            $('.subitem').each(function(){\r\n                var start=$(this).data('start')*0.9999;\r\n                var end=$(this).data('end')*1.0001;\r\n                var find = _.inRange(time,start,end);\r\n                if(find){\r\n                    $(this).addClass( \"text-decoration-underline highlight text-primary\" );\r\n                }else{\r\n                    $(this).removeClass( \"text-decoration-underline highlight text-primary\" );\r\n                }\r\n            });\r\n        });\r\n        });\r\n    }\r\n};\r\n<\/script>\r\n\r\n<style>\r\n    @import 'video.js';\r\n    @import 'videojs-markers-plugin/dist/videojs.markers.plugin.css';\r\n    /*\r\n    .video-js .vjs-big-play-button {\r\n        display: none;\r\n    }\r\n    */\r\n    .video-js .vjs-control-bar {\r\n        display: flex;\r\n    }\r\n\r\n     .vjs-tip {\r\n        font-size: 15px;\r\n    }\r\n    .vjs-tip .vjs-tip-inner {\r\n        color: black;\r\n        background-color: yellow;\r\n    }\r\n    .vjs-tip .vjs-tip-arrow {\r\n        background: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAAXNSR0IArs4c6QAAAENJREFUGBmNzlEKACAIA9Dt/oc2DGZLQuqncC8VaCcC0UqgFxyQJyvkQB8FN3oBh5xAwXxMMEf+76S23lFLK7tuhwoWU/Ya/y97IuIAAAAASUVORK5CYII=\") bottom left no-repeat;\r\n    }\r\n</style>\r\n"],sourceRoot:""}]),r.Z=d},6737:function(){},5893:function(){}},function(e){var r=function(r){return e(e.s=r)};e.O(0,[170,898],(function(){return r(4381),r(6737)}));e.O()}]);
//# sourceMappingURL=app.js.map